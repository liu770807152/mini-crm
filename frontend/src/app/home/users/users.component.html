<div class="wrapper">
  <div class="search">
    <div class="search__body">
      <form (ngSubmit)="search()">
        <div class="row">
          <div class="col-12 col-md-4 my-1">
            <input [(ngModel)]="searchParams.name" type="text" name="name" class="form-control" placeholder="name" />
          </div>
          <div class="col-12 col-md-4 my-1">
            <input [(ngModel)]="searchParams.job" type="text" name="job" class="form-control" placeholder="job" />
          </div>
          <div class="col-12 col-md-4 my-1">
            <input [(ngModel)]="searchParams.email" type="text" name="email" class="form-control" placeholder="email" />
          </div>
          <div class="col-12 d-flex justify-content-between my-3">
            <button routerLink="/add-user" type="button" class="btn btn-primary" >Add New User</button>
            <div>
              <button class="btn btn-primary" type="submit">Search</button>
              <button class="btn btn-secondary mx-1" type="button" (click)="reset()">Reset</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="table__container mat-elevation-z8">
    <table mat-table [dataSource]="userList" class="w-100">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{element.name}}</td>
      </ng-container>
      <ng-container matColumnDef="job">
        <th mat-header-cell *matHeaderCellDef class="table__item--info">Job</th>
        <td mat-cell *matCellDef="let element" class="table__item--info">{{element.job}}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">{{element.email}}</td>
      </ng-container>
      <ng-container matColumnDef="phone">
        <th mat-header-cell *matHeaderCellDef class="table__item--info">Phone Number</th>
        <td mat-cell *matCellDef="let element" class="table__item--info">{{element.phone}}</td>
      </ng-container>
      <ng-container matColumnDef="operation">
        <th mat-header-cell *matHeaderCellDef>Operation</th>
        <td mat-cell *matCellDef="let element" class="table__item--button">
          <button (click)="goToEdit(element.id, $event)" type="button" class="btn btn-primary btn-modify">Edit</button>
          <button (click)="deleteUser(element.id, $event)" type="button" class="btn btn-danger mx-1">Delete</button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        (click)="goToDetail(user)"
        *matRowDef="let user; columns: displayedColumns;"
        class="table__item"
      ></tr>
    </table>
    <div *ngIf="showSpin || userList.length === 0" class="table__content">
      <app-spin [show]="showSpin"></app-spin>
      <div class="empty__container" *ngIf="!showSpin && userList.length === 0">
        <img class="empty__image" src="/assets/no_data.png" alt="no data">
      </div>
    </div>
  </div>
</div>
